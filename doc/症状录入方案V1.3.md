## 症状录入方案
#### 格式定义

整体使用json格式,{}为json对象，[]为json 列表,整体症状由不同的json对象嵌套而来，所有json对象不填写的属性都取该属性的默认值

疾病对象性由 id,name，icd，child,diseaseChild组成。

id为一个疾病的唯一标志，不可冲突，name为疾病名称，icd为疾病icd，diseaseChild存放子疾病，child存放症状列表。

疾病的所有症状的json对象都由content,weight,negWeight,relation,child,source,id,chance几部分组成

content为症状内容，weight为症状权重（回答是的时候的权重，默认值为1），negWeight为负向权重（回答为否的时候的权重，默认为weight*-1),child为子对象列表(默认为空)，relation为子对象之间的关系（默认为;），source为症状来源（默认为父节点source，递归查找，查找不到则为空）

relation关系应为以下关系中的一种：";"   "|" "&" "→" "n","*" 前4种分别表示并列关系，或关系，与关系，发展关系。  n表示具体数字，表示child中需满足n条成立整条概率才成立,*表示乘积关系，表示最终概率为所有概率的乘积。

权重在同一级的节点中影响该级节点的概率分配，不参与父子节点的概率分配，系统根据总体症状为1，逐级向下分配。

如下的录入中，假如A分配到0.3的概率 则c分到0.2的概率，b分到0.1的概率，如果b，c weight都为1 则同时分到0.15概率。

chance为当前节点所分到的实际概率，如果指定了chance，则该节点的所有子节点以chance所分到的概率进行拆分，否则，则按分到的概率拆分，顶级节点默认概率为1.

如下例子中，A一共分到0.3的概率,其中b分到0.3 * 2 / 3 = 0.2，c分到0.3 * 1 / 3 = 0.1

`{"content":"A","weight":1,"chance":0.3,"child":[{"content":"b","weight":1},{"content":"c","weight":2}]}`

疾病分类采用嵌套的模式实现，嵌套的子类会把父类的一起放入子类的相同节点

#### 录入举例

###### 疾病录入
    {
        "content":"小儿维生素A缺乏病",
        "icd":"E50.9",
        "weight":1,
        "child":{"relation":";","child":[...]}
    }
###### 症状录入

血气分析:pH下降;PaO2↓|PaCO2↑ 录入为:

    {
        "content": "血气分析",
        "weight": 1,
        "source":"检查"
        "relation": ";",
        "child": [{
                "content": "pH下降"
            },
            {
                "content": "",
                "weight": 1,
                "relation": "|",
                "child": [{
                    "content": "PaO2↓",
                    "weight": 2
                }, {
                    "content": "PaCO2↑",
                    "weight": 1
                }]
            }
        ]
    }
###### 区分典型症状与普通症状

    {
        "content": "",
        "weight": 1,
        "source":"检查"
        "relation": ";",
        "child": [{
                "content": "pH下降"
            },
            {
                "content": "pH上升",
                "weight": 3,       //并列的child设置不一样的权重即可区分典型症状与普通症状，并且可灵活调整
            }
        ]
    }
    
###### ◎C32[…；…；…] ◎A|C31[…；…；…]的表示方式
    //C32
    {
        "content": "",
        "weight": 1,
        "relation": "2",
        "child": [{},{},{}]
    }
    
    //A|C31
    {
    	"content": "",
    	"weight": 1,
    	"relation": "|",
    	"child": [{
    		"content": "A"
    	}, {
    		"content": "",
    		"relation": "1",
    		"child": [{}, {}, {}]
    	}]
    }
###### 停抗生素后3周t+发热 表示方式(6/4分配权重)
    {
    	"content": "",
    	"weight": 1,
    	"relation": ";",
    	"child": [{
    		"content": "发热",
    		"weight":6
    	}, {
    		"content": "停抗生素后3周t+",
    		"weight":4
    	}]
    }
###### 疾病的分类
直接裂变为icd相同的多条疾病

    {
        "content":"小儿支气管哮喘",
        "icd":"E50.9",
        "weight":1,
        "child":{"relation":";","child":[...]}
    }  
    {
        "content":"小儿支气管哮喘-儿童哮喘",
        "icd":"E50.9",
        "weight":1,
        "child":{"relation":";","child":[...]}
    }
    {
         "content":"小儿支气管哮喘-婴幼儿哮喘",
         "icd":"E50.9",
         "weight":1,
         "child":{"relation":";","child":[...]}
    }    
 
 ###### 部位
 部位父节点赋子节点所有权重，保留一个@用于标记是部位类型
 眩晕;@头部@@脚部@@口部@疱疹; 等同于下列
 
    [{
    		"content": "眩晕",
    		"weight": 1,
    		"child": []
    	},
    	{
    		"content": "@疱疹",
    		"weight": 3,
    		"child": [{
    			"content": "头部",
    			"weight": 1
    		}, {
    			"content": "脚部",
    			"weight": 1
    		}, {
    			"content": "口部",
    			"weight": 1
    		}]
    	}
    ]
 
眩晕;疱疮：@掌跖部@@头部@豌豆大小p+基底暗红色\基底铜红色p+破溃后糜烂p+;    等同于下列
 
    [{
            "content": "眩晕",
            "weight": 1,
            "child": []
        },
        {
            "content": "@疱疹",
            "weight": 2,
            "relation": ";",
            "child": [{
                "content": "头部",
                "weight": 1,
                "relation": ";",
                "child": [{
                    "content": "基底铜红色p+或者基底暗红色p+",
                    "weight": 1
                }, {
                    "content": "豌豆带下p+",
                    "weight": 1
                }, {
                    "content": "破溃后糜烂p+",
                    "weight": 1
                }]
    
            }, {
                "content": "掌跖部",
                "weight": 1,
                "relation": ";",
                "child": [{
                    "content": "基底铜红色p+或者基底暗红色p+",
                    "weight": 1
                }, {
                    "content": "豌豆带下p+",
                    "weight": 1
                }, {
                    "content": "破溃后糜烂p+",
                    "weight": 1
                }]
            }]
        }
    ]
    
###### 疾病嵌套

如下例中，小儿维生素A缺乏病一期的child 为A;B;C;D 二期为：A;B;E;F

    {
        "id": 1,
        "name": "小儿维生素A缺乏病",
        "icd": "E50.9",
        "child": [{
            "relation": ";",
            "child": [{
                "content": "A"
            }, {
                "content": "B"
            }]
        }],
        "diseaseChild": [{
            "id": 2,
            "name": "小儿维生素A缺乏病一期",
            "icd": "E50.9",
            "child": [{
                "relation": ";",
                "child": [{
                    "content": "C"
                }, {
                    "content": "D"
                }]
            }]
        }, {
            "id": 3,
            "name": "小儿维生素A缺乏病二期",
            "icd": "E50.9",
            "child": [{
                "relation": ";",
                "child": [{
                    "content": "E"
                }, {
                    "content": "F"
                }]
            }]
        }]
    }
###### 整体概率拆分以及分组拆分样例
现在，父级节点支持直接设置一个概率而不是从1开始均分，如下样例中，症状一共分到了0.5也就是50%的概率，流行病学才分到了0.3的概率。
检查总共分到了0.8的概率，然后包括了3种组合，分别是5选5 5选3 5选2 然后这三种情况分配了不同的概率，根据实际情况的需要，也可以指定具体的症状组合实现灵活的概率分配。

    {
        "content": "小儿维生素A缺乏病",
        "icd": "E50.9",
        "weight": 1,
        "child": [{
            "chance": 0.5,
            "source": "症状",
            "child": []
        }, {
            "chance": 0.3,
            "content": "H",
            "source": "流行病学",
            "child": []
        }, {
            "content": "检查",
            "relation": "|",
            "chance": 0.8,
            "child": [{
                "chance": 0.5,
                "relation": "2",
                "child": [{
                    "content": "A"
                }, {
                    "content": "B"
                }, {
                    "content": "C"
                }, {
                    "content": "D"
                }, {
                    "content": "E"
                }]
            }, {
                "chance": 0.8,
                "relation": "5",
                "child": [{
                    "content": "A"
                }, {
                    "content": "B"
                }, {
                    "content": "C"
                }, {
                    "content": "D"
                }, {
                    "content": "E"
                }]
            }, {
                "chance": 0.52,
                "relation": "3",
                "child": [{
                    "content": "A"
                }, {
                    "content": "B"
                }, {
                    "content": "C"
                }, {
                    "content": "D"
                }, {
                    "content": "E"
                }]
            }]
        }]
    }
###### 乘积关系示例
如下例中，男性的概率为女性概率的3倍，总概率为ABC的概率*男性跟女性概率的乘积

	{
		"content": "",
		"relation": "*",
		"child": [{
			"content": "",
			"relation": "|",
			"child": [{
				"content": "男",
				"weight": 3
			}, {
				"content": "女",
				"weight": 1
			}]
		}, {
			"content": "",
			"relation": "|",
			"child": [{
				"content": "A"
			}, {
				"content": "B"
			}, {
				"content": "C"
			}]
		}]
	}
    
###### 保留符号以及一些组合
-†、†、t+、c+、f+、e+ 与原符号含义相同，但不同修饰之间要进行拆分并用[]进行包裹
如下例中，[]包裹的是具体属性，以属性类别开头，<>包裹的是区间范围，采用逗号分割，逗号后面的值为大值，前面的值为小值
区间新加属性：age+表示年龄 不带单位则默认单位是岁，单位只支持岁月天 如 <2,3>表示2-3岁，<1,2.5>表示1-2岁半 <3天,0.5月> 表示3-15天
pressure+表示血压
temperature+表示温度 单位为摄氏度
目前区间只支持上述3种属性，如果后续有类似数值区间的要求，需要提出并进行添加

    {
        "content": "A",
        "child": [{
            "content": "[t+B][p+E][age+<3岁,5岁2月>]"
        }]
    }